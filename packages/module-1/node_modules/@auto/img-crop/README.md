# img-crop
通用图片裁切

## Installation
``` bash
npm config set @auto:registry http://r.npm.corpautohome.com/

npm install @auto/img-crop
```

## Usage

### 剪切图片
``` JS
const { imgCrop } = require('@auto/img-crop');

const imgSrc = 'https://m1.autoimg.cn/newsdfs/g29/M09/F6/2C/ChsEflyrY72ATtCSAAiuwBm4QdA990.jpg';

// 比例不变, 生成的目标图不会大于这个尺寸
imgCrop(imgSrc, '200x200_');
// //m1.autoimg.cn/newsdfs/g29/M09/F6/2C/200x200_autohomecar__ChsEflyrY72ATtCSAAiuwBm4QdA990.jpg

// 图片居中剪切成 1:1
imgCrop(imgSrc, '200x200_c40_');
// //m1.autoimg.cn/newsdfs/g29/M09/F6/2C/200x200_c40_autohomecar__ChsEflyrY72ATtCSAAiuwBm4QdA990.jpg

// 图片居中剪切成 4:3
imgCrop(imgSrc, '200x200_c42_');
// //m1.autoimg.cn/newsdfs/g29/M09/F6/2C/200x200_c42_autohomecar__ChsEflyrY72ATtCSAAiuwBm4QdA990.jpg

// 图片居中剪切成 16:9
imgCrop(imgSrc, '200x200_c43_');
// //m1.autoimg.cn/newsdfs/g29/M09/F6/2C/200x200_c43_autohomecar__ChsEflyrY72ATtCSAAiuwBm4QdA990.jpg
```

更多规则查看 [dis-2.0 命令规则](http://wiki.corpautohome.com/pages/viewpage.action?pageId=60263632)

### 在 iPad 中使用多倍尺寸
``` JS
const { imgScale } = require('@auto/img-crop');
// 在 iPad 下输出 `400x400_`, 其他环境下输出 `200x200_`
imgScale('200x200_', 2);
```

### 当前环境是否支持 webp
``` JS
const { checkWebp } = require('@auto/img-crop');
const isSupportWebp = checkWebp();
console.log(isSupportWebp);
```

## 意见反馈
如果发现不能裁切的图片规则欢迎提交 PR，或进行反馈：
> https://git.corpautohome.com/gp_rd_fe/tools/tech/utils/issues

## Links
- [dis-2.0 命令规则](http://wiki.corpautohome.com/pages/viewpage.action?pageId=60263632)
- [新图片规则](http://192.168.8.118/rulelist)
- [老图片规则](http://192.168.100.11/rulelist)
- [dis-2.0 图片动态裁切使用指南](http://fe.corpautohome.com/dis-2-0-tu-pian-dong-tai-cai-qie-shi-yong-zhi-nan-/)
