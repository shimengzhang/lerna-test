'use strict';var isSupportWebp,$host='(\\.autoimg\\.cn/)',$path='(/g\\d+/M\\d+[A-F]?/[\\dA-z]+/[\\dA-z]+/)',$rule='(.*autohome[^_]*__)?',$suffix='autohomecar__',$name='(.+\\.(jpe?g|png|gif|bmp))';function rule_dis(c,t){var e=$host,a=$path,n=$rule,o=$name,r=new RegExp(''.concat('(//.+)').concat(e).concat('(.*)').concat(a).concat(n).concat(o),'i');if(r.test(c))return c.replace(r,'$1$2$3$4'.concat(t).concat($suffix,'$6'))}function rule_yc(c,t){var e=$host,a=$name,n=new RegExp(''.concat('(//yc[01])').concat(e).concat('(imgs/yc/[\\w/]+/)').concat('(.+_)?').concat(a),'i');if(n.test(c))return c.replace(n,'$1$2$3'.concat(t,'$5'))}function rule_2sc(c,t){var e=/\/\/2sc2/;if(e.test(c))return rule_dis(c.replace(e,'//www2'),t)}function rule_club(c,t){var e=$host,a=$path.replace('/g','/?g'),n=$name,o=new RegExp(''.concat('(//)').concat('(.+)').concat(e).concat('(album/?)?').concat(a).concat('(userphotos/\\d+/\\d+/\\d+/\\d+/)?').concat('(ssq_|\\d+_|jh\\d+_)?').concat(n),'i');if(o.test(c))return c.replace(o,'$1m1$3clubdfs/$5'.concat(t).concat($suffix,'$8'))}function rule_car(c,t){var e=$host,a=$name,n=new RegExp(''.concat('(//)').concat('(car[01])').concat('(\\.m)?').concat(e).concat('([\\w/]+/)').concat('(.+_)?').concat(a),'i');if(n.test(c))return c.replace(n,'$1m0$4cardfs/$5'.concat(t).concat($suffix,'$7'))}function rule_you(c,t){var e=$host,a=$path,n=$rule,o=$name,r=new RegExp(''.concat('(//)').concat('(img[23])').concat(e).concat('(travelplat|pano)').concat(a).concat(n).concat(o),'i');if(r.test(c))return c.replace(r,'$1m1$3$4$5'.concat(t).concat($suffix,'$7'))}function checkWebp(){try{return 0===document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp')}catch(c){return!1}}function rule_qiniu(c,t){var e=/\?image(View|Mogr)2.+/,a='(//qnwww[23]'.concat($host,'youchuang').concat($path).concat($name,')'),n=new RegExp(''.concat(a,'(\\?imageView2.+|\\?imageMogr2.+)?'),'i');if(e.test(c)||n.test(c)){var o=t.replace(/(\d+)x(\d+)(.+q(\d+).+)?/,(function(c,t,e,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:87;void 0===isSupportWebp&&(isSupportWebp=checkWebp());var o='format/'.concat(isSupportWebp?'webp':'jpg/q/'.concat(n),'/');return'?imageView2/1/interlace/1/w/'.concat(t,'/h/').concat(e,'/').concat(o)}));return e.test(c)?c.replace(e,''.concat(o)):c.replace(n,'$1'.concat(o))}}function universal(c,t){return rule_2sc(c,t)||rule_club(c,t)||rule_car(c,t)||rule_you(c,t)||rule_yc(c,t)||rule_qiniu(c,t)||rule_dis(c,t)}function imgCrop(c,t){return new RegExp('//.+'.concat($host,'.*').concat($name),'i').test(c)?(universal(c,t)||c).replace(/https?:/,''):c}function imgScale(c){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.56;return/iPad/i.test(navigator.userAgent)?c.replace(/(\d+)x(\d+)/,(function(c,e,a){return''.concat(Math.ceil(e*t),'x').concat(Math.ceil(a*t))})):c}function getImgSrc(c){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c.picUrls||c.AppImg||c.FirstCoverImg||c.SecondCoverImg||c.ThirdCoverImg||(t?'//s.autoimg.cn/sou/soum/images/default.png':'')}exports.checkWebp=checkWebp,exports.getImgSrc=getImgSrc,exports.imgCrop=imgCrop,exports.imgScale=imgScale;
