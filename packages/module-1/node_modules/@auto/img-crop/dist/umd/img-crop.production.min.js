!function(c,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t((c=c||self).imgCrop={})}(this,(function(c){'use strict';var t,n='(\\.autoimg\\.cn/)',e='(/g\\d+/M\\d+[A-F]?/[\\dA-z]+/[\\dA-z]+/)',a='(.*autohome[^_]*__)?',o='autohomecar__',r='(.+\\.(jpe?g|png|gif|bmp))';function i(c,t){var i=n,u=e,g=a,p=r,f=new RegExp(''.concat('(//.+)').concat(i).concat('(.*)').concat(u).concat(g).concat(p),'i');if(f.test(c))return c.replace(f,'$1$2$3$4'.concat(t).concat(o,'$6'))}function u(){try{return 0===document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp')}catch(c){return!1}}function g(c,g){return function(c,t){var n=/\/\/2sc2/;if(n.test(c))return i(c.replace(n,'//www2'),t)}(c,g)||function(c,t){var a=n,i=e.replace('/g','/?g'),u=r,g=new RegExp(''.concat('(//)').concat('(.+)').concat(a).concat('(album/?)?').concat(i).concat('(userphotos/\\d+/\\d+/\\d+/\\d+/)?').concat('(ssq_|\\d+_|jh\\d+_)?').concat(u),'i');if(g.test(c))return c.replace(g,'$1m1$3clubdfs/$5'.concat(t).concat(o,'$8'))}(c,g)||function(c,t){var e=n,a=r,i=new RegExp(''.concat('(//)').concat('(car[01])').concat('(\\.m)?').concat(e).concat('([\\w/]+/)').concat('(.+_)?').concat(a),'i');if(i.test(c))return c.replace(i,'$1m0$4cardfs/$5'.concat(t).concat(o,'$7'))}(c,g)||function(c,t){var i=n,u=e,g=a,p=r,f=new RegExp(''.concat('(//)').concat('(img[23])').concat(i).concat('(travelplat|pano)').concat(u).concat(g).concat(p),'i');if(f.test(c))return c.replace(f,'$1m1$3$4$5'.concat(t).concat(o,'$7'))}(c,g)||function(c,t){var e=n,a=r,o=new RegExp(''.concat('(//yc[01])').concat(e).concat('(imgs/yc/[\\w/]+/)').concat('(.+_)?').concat(a),'i');if(o.test(c))return c.replace(o,'$1$2$3'.concat(t,'$5'))}(c,g)||function(c,a){var o=/\?image(View|Mogr)2.+/,i='(//qnwww[23]'.concat(n,'youchuang').concat(e).concat(r,')'),g=new RegExp(''.concat(i,'(\\?imageView2.+|\\?imageMogr2.+)?'),'i');if(o.test(c)||g.test(c)){var p=a.replace(/(\d+)x(\d+)(.+q(\d+).+)?/,(function(c,n,e,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:87;void 0===t&&(t=u());var r='format/'.concat(t?'webp':'jpg/q/'.concat(o),'/');return'?imageView2/1/interlace/1/w/'.concat(n,'/h/').concat(e,'/').concat(r)}));return o.test(c)?c.replace(o,''.concat(p)):c.replace(g,'$1'.concat(p))}}(c,g)||i(c,g)}c.checkWebp=u,c.getImgSrc=function(c){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c.picUrls||c.AppImg||c.FirstCoverImg||c.SecondCoverImg||c.ThirdCoverImg||(t?'//s.autoimg.cn/sou/soum/images/default.png':'')},c.imgCrop=function(c,t){return new RegExp('//.+'.concat(n,'.*').concat(r),'i').test(c)?(g(c,t)||c).replace(/https?:/,''):c},c.imgScale=function(c){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.56;return/iPad/i.test(navigator.userAgent)?c.replace(/(\d+)x(\d+)/,(function(c,n,e){return''.concat(Math.ceil(n*t),'x').concat(Math.ceil(e*t))})):c}}));
